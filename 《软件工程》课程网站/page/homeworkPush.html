<!DOCTYPE html>
<html lang="en" class="no-js">
<head>
<meta charset="UTF-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>习题发布</title>
<link rel="stylesheet" type="text/css" href="../css/normalize.css" />
<link rel="stylesheet" type="text/css" href="../css/demo.css" />
<link rel="stylesheet" type="text/css" href="../public/layui-v2.2.5/layui/css/layui.css">
<!--必要样式-->
<link rel="stylesheet" type="text/css" href="../css/component.css" />
<!--[if IE]>
<script src="js/html5.js"></script>
<![endif]-->
<link rel="stylesheet" href="../css/courseSrc.css">
<link rel="stylesheet" href="../css/homeworkPush.css">    
<link rel="stylesheet" href="../css/homeworkCheck.css">	
</head>
<body class="layui-layout-body large-header" id="large-header">
        <canvas id="demo-canvas"></canvas>
        <div class="layui-layout layui-layout-admin border-bottom">
            <div class="layui-header">
              <div class="layui-logo border-right-top">教 师 界 面</div>
              <!-- 头部区域（可配合layui已有的水平导航） -->
              <ul class="layui-nav layui-layout-right">
                <li class="layui-nav-item">
                  <a href="javascript:;">
                    <img src="../img/headPortrait.jpg" class="layui-nav-img">
                    陈学勤
                  </a>
                </li>
                <li class="layui-nav-item"><a href="../index.html">退出</a></li>
              </ul>
            </div>
            <div class="layui-side layui-bg-black border-right-bottom" lay-filter="sidebar">
                <div id="sidebar" class="layui-side-scroll"></div>
            </div>
            <div class="layui-body">
                <div class="content_top mg-bt">发布习题</div>
                <form class="layui-form inputInfo">
                    <div class="layui-form-item  ">
                        <div class="layui-inline w-title">
                            <label class="layui-form-label">习题标题：</label>
                            <div class="layui-input-block" >
                                <input type="text" id="homeworkId"  class="layui-input input_bb">               
                            </div> 
                        </div>
                    </div>
                    <div class="layui-form-item">
                        <div class="layui-inline w-one-bg">
                            <label class="layui-form-label">习题内容：</label>
                            <div class="layui-input-block">
                                <textarea name="workExperience" id="homeworkCont" class="input_bb layui-textarea"></textarea>
                            </div>
                        </div> 
                    </div>
                    <div class="layui-form-item">
                        <div class="layui-inline w-sm">
                            <label class="layui-form-label">习题分值：</label>
                            <div class="layui-input-block" >
                                <input type="text" id="homeworkNum" class="layui-input input_bb ">
                            </div>
                        </div>
                    </div>
                    <div class="btnwrap">
                        <button id="update" class="layui-btn layui-btn-sm" type="button" style="width: 100px">发布</button>
                    </div>
                </form>
            </div>
        </div>
        <script src="../public/jquery-3.2.1.min.js"></script>
		<script src="../js/TweenLite.min.js"></script>
		<script src="../js/EasePack.min.js"></script>
		<script src="../js/rAF.js"></script>
        <script src="../js/demo-1.js"></script>
        <script src="../public/layui-v2.2.5/layui/layui.js"></script>
        <script src="../public/menu.js"></script>
        <script src="../js/teacherJS/homeworkPush.js"></script>
        <script type="text/html" id="toolBar">
            <a class="layui-btn layui-btn-xs" lay-event="downloadCourse">下载</a>
            <a class="layui-btn layui-btn-xs" lay-event="delete">删除</a>
        </script>
		<script>
			layui.use('element', function(){
			  var element = layui.element;
			  //…
            });
            $('#update').click(function(){
                var data={};
                var count=0;
                var homeworkId=$("#homeworkId").val();if(homeworkId!=""){data.homeworkId=homeworkId;count++;}
                var homeworkCont=$("#homeworkCont").val();if(homeworkCont!=""){data.homeworkCont=homeworkCont;count++;}
                var homeworkNum=$("#homeworkNum").val();if(homeworkNum!=""){data.homeworkNum=homeworkNum;count++;}
                if(count!=3){
                    layui.use('layer',function(){
                        var layer = layui.layer;
                        layer.open({
                            title: '习题详情'
                            ,shadeClose:true
                            ,content: `习题标题、习题内容、习题分值都不能为空`
                        });
                    })
                }else{
                    data=JSON.stringify(data);
                    console.log(data);
                    $.ajax({
                        method:'POST',
                        url:'',
                        contentType : "application/json ; charset=utf-8",
                        data:data,
                        success(d){
                            console.log(d)
                        }
                    })
                }
            })
		</script>
	</body>
</html>